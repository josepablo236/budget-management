<ion-card>
  <ion-card-header>
    <ion-card-title class="card-title">
      {{budget.name}}
    </ion-card-title>
    <ion-card-subtitle class="card-subtitle">{{budget.date}}</ion-card-subtitle>
    <span class="options"><ion-icon [id]="'popover-button-' + budget.idBudget" name="ellipsis-horizontal-outline"></ion-icon></span>
  </ion-card-header>
  <ion-card-content>
    <ion-list>
      <ion-item>
        <ion-label>Presupuesto inicial:</ion-label>
        <span>{{budget.initialValue}}</span>
      </ion-item>
      <ion-item>
        <ion-label>Ingresos:</ion-label>
        <span class="greenNumber">{{budget.incomes}}</span>
      </ion-item>
      <ion-item>
        <ion-label>Gastos:</ion-label>
        <span class="redNumber">{{budget.expenses}}</span>
      </ion-item>
      <ion-item *ngIf="budget.savings !== undefined">
        <ion-label>Ahorro:</ion-label>
        <span class="blueNumber">{{budget.savings}}</span>
      </ion-item>
      <ion-item>
        <ion-label class="total">Total:</ion-label>
        <span class="total" [ngClass]="{greenNumber: budget.total > 0, redNumber: budget.total < 0}">{{budget.total}}</span>
      </ion-item>
    </ion-list>
    <ion-button class="button-fill" (click)="addMovement()" expand="block" shape="round">
      <ion-icon slot="start" name="reader-outline"></ion-icon>
      Ver detalle
    </ion-button>
  </ion-card-content>
</ion-card>

<ion-popover mode="ios" [trigger]="'popover-button-' + budget.idBudget" [dismissOnSelect]="true">
  <ng-template>
    <ion-content>
      <ion-list>
        <ion-item [button]="true" [detail]="false" (click)="addMovement()">
          <ion-icon style="font-size: 18px;" slot="start" name="create-outline"></ion-icon>
          <ion-label style="font-size: 16px;">Editar movimientos</ion-label>
        </ion-item>
        <ion-item [button]="true" [detail]="false" (click)="deleteBudget()">
          <ion-icon color="danger" style="font-size: 18px;" slot="start" name="trash-outline"></ion-icon>
          <ion-label color="danger" style="font-size: 16px;">Eliminar presupuesto</ion-label>
        </ion-item>
      </ion-list>
    </ion-content>
  </ng-template>
</ion-popover>
